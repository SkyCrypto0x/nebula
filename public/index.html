<!-- public/index.html -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Soul Swap</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="page-shell">
      <!-- background glow blobs -->
      <div class="bg-orbit bg-orbit-1"></div>
      <div class="bg-orbit bg-orbit-2"></div>

      <!-- Top bar -->
      <header class="topbar">
        <!-- à¦ªà§à¦°à¦¥à¦® à¦²à¦¾à¦‡à¦¨: logo + title + connect wallet -->
        <div class="topbar-main-row">
          <div class="brand-block">
            <div class="logo-circle">
              <img src="icons/logo.png" alt="SoulSwap logo" />
            </div>

            <div class="brand-text">
              <div class="brand-title">Soul Swap</div>
              <!-- tagline desktop & mobile à¦¦à§â€™à¦œà¦¾à§Ÿà¦—à¦¾à¦¤à§‡à¦‡ à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦¹à¦¬à§‡ -->
              <div class="brand-subtitle">
                CROSS-CHAIN, NON-CUSTODIAL ROUTING
              </div>
            </div>
          </div>

          <div class="topbar-right">
            <span class="backend-pill" id="backendStatus">Backend: online</span>
            <!-- <button id="themeToggle" class="theme-btn">â˜€ / ðŸŒ™</button> -->
            <button id="openWalletModal" class="wallet-btn">
              Connect wallet
            </button>
          </div>
        </div>
      </header>

      <!-- Main tabs -->
      <nav class="main-tabs">
        <button class="tab active" data-tab="bridge" id="bridgeBtn">Bridge</button>
        <button class="tab" data-tab="history" id="historyBtn">History</button>
      </nav>

      <div id="bridgePanel">
        <!-- Main slim bridge layout -->
        <main class="bridge-layout">
          <!-- Left: main bridge card -->
          <section class="bridge-panel">
            <h1 class="bridge-heading">Bridge assets in one smooth flow</h1>
            <p class="bridge-subheading">
              Pick your chains, enter amount, choose destination wallet and let
              SoulSwap route liquidity for you.
            </p>

            <!-- FROM CHAIN -->
            <div class="field-group-label">From chain</div>
            <div class="chain-row">
              <div class="select-shell">
                <label>From</label>
                <div class="chain-opt">
                  <!-- à¦¶à§à¦°à§à¦° default = Solana -->
                  <img
                    id="fromChainLogo"
                    class="chain-logo"
                    src="icons/solana.svg"
                    alt="From chain logo"
                  />
                  <select id="fromChain">
                    <option value="solana">Solana</option>
                    <option value="ethereum">Ethereum</option>
                    <option value="bsc">BNB Chain</option>
                    <option value="arbitrum">Arbitrum</option>
                    <option value="base">Base</option>
                  </select>
                </div>
                <span class="chevron">â–¾</span>
              </div>

              <button id="flipChains" class="flip-btn" type="button">â‡„</button>

              <!-- TO CHAIN -->
              <div class="select-shell">
                <label>To</label>
                <div class="chain-opt">
                  <!-- à¦¶à§à¦°à§à¦° default = Ethereum -->
                  <img
                    id="toChainLogo"
                    class="chain-logo"
                    src="icons/ethereum.svg"
                    alt="To chain logo"
                  />
                  <select id="toChain">
                    <option value="ethereum">Ethereum</option>
                    <option value="solana">Solana</option>
                    <option value="bsc">BNB Chain</option>
                    <option value="arbitrum">Arbitrum</option>
                    <option value="base">Base</option>
                  </select>
                </div>
                <span class="chevron">â–¾</span>
              </div>
            </div>

            <!-- Send section -->
            <div class="card-section">
              <div class="card-section-header">
                <span>Send</span>
                <div class="token-chip">
                  <span>Token</span>
                  <select id="token">
                    <option value="USDC">USDC</option>
                    <option value="USDT">USDT</option>
                    <option value="ETH">ETH</option>
                    <option value="SOL">SOL</option>
                  </select>
                </div>
              </div>

              <div class="amount-row">
                <input
                  id="amount"
                  class="amount-input"
                  type="text"
                  placeholder="Amount (e.g. 10 = 10 USDC)"
                />
                <button class="max-btn" type="button">MAX</button>
              </div>
            </div>

            <div class="flow-arrow">
              <span>â†“</span>
            </div>

            <!-- Receive section -->
            <div class="card-section">
              <div class="card-section-header">
                <span>Receive (estimated)</span>
                <span id="receivePreview" class="summary-value-muted">â€“</span>
              </div>

              <div id="minReceive" class="min-receive hidden">
                You will receive at least:
                <span id="minReceiveValue">â€“</span>
              </div>

              <div class="helper-text">
                Includes all routing costs & hidden platform fee.
              </div>

              <div class="microcopy" id="microcopy">â‰ˆ $0.00 after fees</div>
            </div>

            <!-- Route filters -->
            <div class="route-filters hidden" id="routeFilters">
              <button class="route-filter" data-filter="fastest">Fastest</button>
              <button class="route-filter" data-filter="cheapest">Cheapest</button>
              <button class="route-filter" data-filter="safest">Safest</button>
            </div>

            <div id="routeContainer" class="route-compare hidden">
              <div id="routeList"></div>
            </div>

            <!-- Destination wallet -->
            <div style="margin-top: 16px">
              <div class="field-group-label">Destination wallet</div>
              <input
                id="destAddress"
                class="dest-input"
                type="text"
                placeholder="Paste address on the destination chain (optional)"
              />
              <div class="helper-text">
                Leave empty to receive on your connected wallet for the target
                chain.
              </div>
            </div>

            <!-- Advanced settings -->
            <div class="advanced-settings">
              <div class="setting-row setting-slippage">
                <label>Slippage</label>
                <div class="slippage-controls">
                  <button type="button" class="slip-btn" data-value="0.1">
                    0.1%
                  </button>
                  <button
                    type="button"
                    class="slip-btn active"
                    data-value="0.5"
                  >
                    0.5%
                  </button>
                  <button type="button" class="slip-btn" data-value="1">
                    1%
                  </button>
                  <button
                    type="button"
                    class="slip-btn slip-btn-custom"
                  >
                    Custom
                  </button>

                  <!-- real value used by JS -->
                  <input
                    id="slippage"
                    class="slip-input hidden"
                    type="number"
                    value="0.5"
                    step="0.1"
                    min="0"
                    max="50"
                  />
                </div>
              </div>

              <div class="setting-row">
                <label>MEV Protection</label>
                <label class="switch">
                  <input type="checkbox" id="mevToggle" />
                  <span class="slider"></span>
                </label>
              </div>

              <div class="setting-row">
                <label>Refuel Destination Gas</label>
                <label class="switch">
                  <input type="checkbox" id="refuelToggle" />
                  <span class="slider"></span>
                </label>
              </div>
            </div>

            <!-- Progress steps -->
            <div id="progressTracker" class="progress hidden">
              <div class="step" id="stepPrepare">Preparing</div>
              <div class="step" id="stepSwap">Swapping</div>
              <div class="step" id="stepClaim">Claiming</div>
              <div class="step" id="stepDone">Done</div>
            </div>

            <div class="progress-wrapper">
              <div
                id="progressBar"
                style="height:4px; width:0; background:#22c55e; border-radius:999px;"
              ></div>
            </div>

            <!-- Buttons -->
            <div class="actions-row">
              <button id="quoteBtn" class="primary-btn" type="button">
                Get bridge quote
              </button>
              <button
                id="swapBtn"
                class="secondary-btn"
                type="button"
                disabled
              >
                Execute bridge
              </button>
            </div>

            <!-- Status -->
            <div id="status" class="status-bar">Ready when you are.</div>

            <!-- Advanced raw payload -->
            <details class="advanced-toggle">
              <summary>Advanced: raw quote payload</summary>
              <pre id="output"></pre>
            </details>
          </section>

          <!-- Right: summary card (desktop only) -->
          <aside class="summary-card-container">
            <div class="summary-card">
              <div>
                <div class="summary-title">Bridge summary</div>
                <div class="summary-subtitle">
                  Simple overview of what you send and receive.
                </div>
              </div>

              <div class="summary-grid">
                <div>
                  <div class="summary-label">You send</div>
                  <div class="summary-value" id="youSend">-</div>
                  <div class="summary-value-muted" id="youSendChain">-</div>
                </div>

                <div>
                  <div class="summary-label">You receive (estimated)</div>
                  <div class="summary-value" id="youReceive">-</div>
                  <div class="summary-value-muted" id="youReceiveChain">-</div>
                </div>

                <div>
                  <div class="summary-label">Source wallet</div>
                  <div class="summary-value-muted">
                    <span id="sourceWallet">Not connected</span>
                  </div>
                </div>

                <div>
                  <div class="summary-label">Destination wallet</div>
                  <div class="summary-value-muted">
                    <span id="destinationWallet">Not set</span>
                  </div>
                </div>
              </div>

              <div class="summary-footer">
                <span>
                  Non-custodial cross-chain bridge. All swaps settle under your
                  brand. Liquidity under the hood.
                </span>
                <span class="wallet-pill" id="walletSummary">No wallet</span>
              </div>
            </div>
          </aside>
        </main>
      </div>

      <!-- History panel -->
      <section id="historyPanel" class="hidden history-panel">
        <h2>Bridge History</h2>
        <div id="historyList"></div>
      </section>

      <!-- Footer -->
      <footer class="page-footer">
        <span>Â© Soul Swap Â· Powered by deep cross-chain routing.</span>
        <span>All swaps execute directly from user wallets.</span>
      </footer>

      <!-- Wallet selection modal -->
      <div id="walletBackdrop" class="modal-backdrop">
        <div id="walletModal" class="modal" aria-hidden="true">
          <div class="modal-header">
            <div class="modal-title">Select wallet</div>
            <button
              id="closeWalletModal"
              class="modal-close"
              type="button"
              aria-label="Close"
            >
              âœ•
            </button>
          </div>

          <div class="wallet-list">
            <button
              class="wallet-item"
              type="button"
              data-wallet="metamask"
            >
              <span>MetaMask / EVM wallet</span>
              <span>â†’</span>
            </button>
            <button
              class="wallet-item"
              type="button"
              data-wallet="phantom"
            >
              <span>Phantom (Solana)</span>
              <span>â†’</span>
            </button>
            <button class="wallet-item" type="button" data-wallet="soon">
              <span>WalletConnect (coming soon)</span>
              <span>â€¦</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Token modal -->
      <div id="tokenModal" class="modal-backdrop">
        <div class="modal token-modal">
          <div class="modal-header">
            <div class="modal-title">Select token</div>
            <button class="modal-close" id="closeTokenModal">âœ•</button>
          </div>

          <input
            id="tokenSearch"
            type="text"
            placeholder="Search tokenâ€¦"
            class="token-search-input"
          />

          <div id="tokenList" class="token-list"></div>
        </div>
      </div>
    </div>

    <button id="mobileQuoteBtn" class="mobile-sticky-quote hidden">
      Get Quote
    </button>

    <!-- Custom cursor element (JS will control this) -->
    <div id="customCursor" class="custom-cursor" style="display:none;"></div>

    <!-- canvas-confetti CDN (global `confetti` variable à¦¦à§‡à¦¬à§‡) -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

    <!-- TypeScript à¦¥à§‡à¦•à§‡ à¦¬à¦¾à¦¨à¦¾à¦¨à§‹ compiled JS à¦«à¦¾à¦‡à¦² -->
    <script src="app.js"></script>
  </body>
</html>
